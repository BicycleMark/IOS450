<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
    <title>Verify an iOS Framework binary exposes required members</title>
    <link rel="stylesheet" type="text/css" href="./res/styles/normalize.css">
    <link rel="stylesheet" type="text/css" href="./res/styles/prettify.css" />
    <link rel="stylesheet" type="text/css" href="./res/styles/styles.css">
</head>

<body>
    <!-- Use the same title as the StartHere -->
    <header>Objective-C iOS Bindings</header>

    <section id="main">

        <h1 id="page-title"></h1>

        <h2>Duration</h2>
        <p>5 minutes</p>

        <h2>Goals</h2>

        <p>
            The primary goal of this exercise is to verify all expected classes and members are available in the library you are about to bind.
        </p>

        <h2>Required assets</h2>
        <p>
            In this exercise you will continue working on the completed solution from the prior <code>lipo</code> exercise, but you can also use the pre-compiled assets from the <strong>Start</strong> folder.
        </p>

        <h2>Challenge</h2>
        <p>
            To verify that an iOS binary contains the expected classes and members for a specific architecture you will run the unix <strong>nm</strong> command to display the name list (symbol table) for a binary.
        </p>

        <blockquote class="info-quote">
            <strong>Tip:</strong> You are interrested in symbol names exposed as <strong>+-[Class_name(category_name) method:name:]</strong>, where <strong>+</strong> is for class
            methods, <strong>-</strong> is for instance methods.
        </blockquote>

        <!-- Steps -->
        <h1>Steps</h1>

        <h2>Verify all expected classes and members are available</h2>
        <ol>
            <li>
                <p>On the command line locate the folder containing your <strong>Debug-iphonesimulator</strong>.</p>
            </li>
            <div class="spacing-top">
                <button class="spacing-both btn btn-toggle" type="button" data-toggle="collapse" data-toggle-show-text="How do I get to a command line?" data-toggle-hide-text="How do I get to a command line?" data-target="#unique_id_2">How do I get to a command line?</button>
                <div class="collapse" id="unique_id_2">
                    <div class="card card-block">
                        <p>To access the command prompt in macOS, open the Terminal application. It is located inside the <strong>Applications</strong> > <strong>Utilities</strong> folder.</p>
                    </div>
                </div>
            </div>
            <li>
                <p>Run the <code class="codeblock">nm -n</code> command against the <strong>WeatherGadget</strong> binary contained in the <strong>Debug-iphonesimulator</strong> folder and note the output. Find all Objective-C class and member references.</p>
                <blockquote class="info-quote">
                    <strong>Tip:</strong> You are able to limit the output by using <strong>grep</strong>. Following the appropriate syntax usage of <strong>nm</strong> add the following to your command line:    <strong>| grep " t -\["</strong>
                </blockquote>
            </li>
            <li>
                <p>Next run the <code class="codeblock">nm -n</code> again including the <code class="codeblock">-arch arm64</code> option. Note the output.</p>
            </li>

            <li>
                <p>Change the <code class="codeblock">-arch arm64</code> option to <code class="codeblock">-arch x86_64</code> and run the command again. Note the output.</p>
            </li>
        </ol>

        <h1>Summary</h1>
        <p>In this exercise, you were able to verify all expected classes and members are available in the library you are about to bind. This process can be used to debug binding errors in the IDE when classes or members are reported as missing from binaries when linking executes.</p>

        <div class="align-right">
            <a href="../Start%20Here.html">Go Back</a>
        </div>
    </section>

    <script src="./res/js/jquery.min.js"></script>
    <script src="./res/js/prettify.js"></script>
    <script src="./res/js/script.js"></script>

    <footer>Copyright (C) 2018 Xamarin</footer>
</body>
</html>